<div class="container">
  <h3>{{pageTitle}}</h3>
  <app-error *ngIf='errorMessage' [errorMessage]='errorMessage'></app-error>
  <form #vehicleForm="ngForm" (submit)="addVehicle(model)">
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-registration-mark"></span></span>
        <select class="form-control" required="required" name="makeId"
          (change)="onSelect($event.target.value)" [(ngModel)]="model.makeId">
          <option *ngFor="let make of availableVehicleMakes" [value]="make.id">
            {{make.name}}
          </option>
        </select >
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-registration-mark"></span></span>
        <select class="form-control" required="required" name="modelId" [(ngModel)]="model.modelId">
          <option *ngFor="let model of availableVehicleModels" [value]="model.id">
            {{model.name}}
          </option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-registration-mark"></span></span>
        <input type="text" name="exactModel" [(ngModel)]="model.exactModel" required="required" class="form-control" placeholder="Exact model">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-fire"></span></span>
        <input type="text" name="regNumber" [(ngModel)]="model.regNumber" class="form-control" placeholder="Registration number">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-road"></span></span>
          <my-date-picker [options]="myDatePickerOptions" [selDate]="manufactureDate"
               (dateChanged)="onDateChanged($event)"></my-date-picker>          
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-fire"></span></span>
        <input type="number" name="power" [(ngModel)]="model.power" class="form-control" placeholder="Engine power" >
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-fire"></span></span>
        <input type="number" name="engineCapacity" [(ngModel)]="model.engineCapacity" class="form-control" placeholder="Engine capacity" >
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-road"></span></span>
        <select class="form-control" required="required" name="type" [(ngModel)]="model.type">
          <option *ngFor="let type of availableVehicleTypes" [value]="type.id">
            {{type.name}}
          </option>
        </select >
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-road"></span></span>
        <select class="form-control" name="fuelTypes" required="required" multiple [(ngModel)]="model.fuelTypes">
          <option *ngFor="let type of availabaleFuelTypes" [value]="type.id">
            {{type.name}}
          </option>
        </select >
      </div>
    </div>    
  
  <div class="form-group pull-right">
    <button type="submit" class="btn btn-default" [disabled]="!vehicleForm.form.valid">
        Save&nbsp;<span class="fa fa-floppy-o" aria-hidden="true"></span>
    </button>
  </div>
</form>

</div>
